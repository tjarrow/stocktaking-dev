(this["webpackJsonpstocktaking-dev"]=this["webpackJsonpstocktaking-dev"]||[]).push([[0],{22:function(e){e.exports=JSON.parse('[{"_id":"FG7pRodZNF","createdAt":"2017-04-04T10:45:23.103Z","updatedAt":"2017-04-04T11:17:23.210Z","name":"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u043a\u043e\u0440\u043f\u0443\u0441","readACL":[],"removeACL":[],"updateACL":[],"rooms":[{"children":[{"children":[{"id":"b1floor1leftroom1","name":"\u041f\u0440\u0438\u0435\u043c\u043d\u0430\u044f \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430"},{"id":"b1floor1leftroom2","name":"102"},{"id":"b1floor1leftroom3","name":"103"}],"id":"b1floor1left","name":"\u041b\u0435\u0432\u043e\u0435 \u043a\u0440\u044b\u043b\u043e"},{"children":[{"id":"b1floor1rightroom1","name":"104"},{"id":"b1floor1rightroom2","name":"105"},{"id":"b1floor1rightroom3","name":"106"}],"id":"b1floor1right","name":"\u041f\u0440\u0430\u0432\u043e\u0435 \u043a\u0440\u044b\u043b\u043e"},{"name":"\u041f\u043e\u0434\u0441\u043e\u0431\u043d\u043e\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435","id":"b1floor1roomx"}],"id":"b1floor1","name":"\u042d\u0442\u0430\u0436 1"},{"children":[{"children":[{"id":"b1floor2leftroom1","name":"\u041f\u0440\u0438\u0435\u043c\u043d\u0430\u044f \u0437\u0430\u043c\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430"},{"id":"b1floor2leftroom2","name":"207"},{"id":"b1floor2leftroom3","name":"208"}],"id":"b1floor2left","name":"\u041b\u0435\u0432\u043e\u0435 \u043a\u0440\u044b\u043b\u043e"},{"children":[{"id":"b1floor2rightroom1","name":"209"},{"id":"b1floor2rightroom2","name":"210"},{"id":"b1floor2rightroom3","name":"211"}],"id":"b1floor2right","name":"\u041f\u0440\u0430\u0432\u043e\u0435 \u043a\u0440\u044b\u043b\u043e"},{"name":"\u041f\u043e\u0434\u0441\u043e\u0431\u043d\u043e\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435","id":"b1floor2roomx"}],"id":"b1floor2","name":"\u042d\u0442\u0430\u0436 2"}]},{"_id":"F32hwqdZNF","createdAt":"2017-04-04T10:45:23.103Z","updatedAt":"2017-04-04T11:17:23.210Z","name":"\u041a\u043e\u0440\u043f\u0443\u0441 \u21162","readACL":[],"removeACL":[],"updateACL":[],"rooms":[{"children":[{"children":[{"id":"b2floor1leftroom1","name":"\u041f\u0440\u0438\u0435\u043c\u043d\u0430\u044f \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430"},{"id":"b1floor1leftroom2","name":"342"},{"id":"b2floor1leftroom3","name":"343"}],"id":"b2floor1left","name":"\u041b\u0435\u0432\u043e\u0435 \u043a\u0440\u044b\u043b\u043e"},{"children":[{"id":"b2floor1rightroom1","name":"344"},{"id":"b2floor1rightroom2","name":"345"},{"id":"b2floor1rightroom3","name":"346"},{"name":"\u041f\u043e\u0434\u0441\u043e\u0431\u043d\u043e\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435","id":"b2floor1rightroomx"}],"id":"b2floor1right","name":"\u041f\u0440\u0430\u0432\u043e\u0435 \u043a\u0440\u044b\u043b\u043e"}],"id":"b2floor1","name":"\u042d\u0442\u0430\u0436 1"}]}]')},23:function(e){e.exports=JSON.parse('[{"_id":"FJhSfbjzEB","name":"\u0421\u043b\u043e\u043d","room":"102","updateACL":[],"readACL":[],"removeACL":[],"count":1,"createdAt":"2019-12-17T18:53:57.280Z","updatedAt":"2019-12-17T18:53:57.280Z"},{"_id":"Xgrgq9BPXg","count":1,"removeACL":[],"updatedAt":"2019-12-21T15:59:28.929Z","readACL":[],"updateACL":[],"name":"\u0416\u0438\u0440\u0430\u0444","room":"103","createdAt":"2019-12-17T19:25:06.252Z"},{"_id":"NLSaVdNLrr","updatedAt":"2019-12-21T15:59:25.513Z","updateACL":[],"name":"\u041a\u043e\u0442\u0438\u043a","room":"\u0412\u0430\u0445\u0442\u0430","readACL":[],"removeACL":[],"count":3,"createdAt":"2019-12-17T19:31:58.589Z"},{"_id":"4ZKwlS9xGW","updatedAt":"2019-12-18T14:47:39.924Z","removeACL":[],"count":2,"room":"102","createdAt":"2019-12-18T14:47:39.924Z","readACL":[],"updateACL":[],"name":"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u0431\u043b\u043e\u043a"},{"_id":"t59kCsQbMt","room":"102","createdAt":"2019-12-21T14:47:48.804Z","readACL":[],"updateACL":[],"removeACL":[],"name":"\u0421\u0442\u0443\u043b","updatedAt":"2019-12-21T15:59:31.316Z","count":1},{"_id":"IncNPEJSaS","name":"\u0422\u0435\u043b\u0435\u0444\u043e\u043d","updatedAt":"2019-12-21T19:27:04.535Z","removeACL":[],"room":"101","count":2,"createdAt":"2019-12-21T19:27:04.535Z","readACL":[],"updateACL":[]},{"_id":"aglFxZVIra","room":"\u0421\u043a\u043b\u0430\u0434\u0441\u043a\u043e\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435","name":"\u0421\u0442\u0440\u0435\u043c\u044f\u043d\u043a\u0430","createdAt":"2019-12-23T19:02:04.412Z","updatedAt":"2019-12-23T19:02:04.412Z","readACL":[],"updateACL":[],"removeACL":[],"count":4}]')},32:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},33:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},39:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),i=a.n(r),s=(a(38),a(39),a(2)),m=a(3),l=a(6),c=a(4),d=a(5),u=a(22),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={buildings:[],openNodes:{}},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.setState({buildings:u}),console.info(u)}},{key:"toggleTree",value:function(e){var t=this.state.openNodes;void 0!==t[e]?t[e]=!t[e]:t[e]=!0,this.setState({openNodes:t})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"multi-tree"},o.a.createElement("h4",null,o.a.createElement("a",{className:"scheme-header",href:"#"},"\u0421\u0445\u0435\u043c\u0430  \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438")),o.a.createElement("ul",null,0!==this.state.buildings.length&&this.state.buildings.map((function(t){return o.a.createElement("li",{key:t._id},o.a.createElement("span",{onClick:e.toggleTree.bind(e,t._id)},o.a.createElement("em",{className:e.state.openNodes[t._id]?"???":"marker"}),o.a.createElement("a",{id:"".concat(t._id)},t.name)),o.a.createElement("ul",{className:e.state.openNodes[t._id]?"":"hide"},t&&void 0!==t.rooms&&t.rooms.map((function(t){return o.a.createElement("li",{key:t.id},o.a.createElement("span",{onClick:e.toggleTree.bind(e,t.id)},o.a.createElement("em",{className:e.state.openNodes[t.id]?"???":"marker"}),o.a.createElement("a",{id:"".concat(t.id)},t.name)),o.a.createElement("ul",{className:e.state.openNodes[t.id]?"":"hide"},t&&void 0!==t.children&&t.children.map((function(t){return o.a.createElement("li",{key:t.id},o.a.createElement("span",null,o.a.createElement("a",{id:"".concat(t.id),className:"".concat(t.name),onClick:e.toggleTree.bind(e,t.id)},t.name)),o.a.createElement("ul",{className:e.state.openNodes[t.id]?"":"hide"},t&&void 0!==t.children&&t.children.map((function(t){return o.a.createElement("li",{key:t.id},o.a.createElement("span",null,o.a.createElement("a",{id:"".concat(t.id),className:"".concat(t.name),onClick:e.props.onToggleEqItem},t.name)))}))))}))))}))))}))))}}]),t}(o.a.Component),p=a(15),f=a(9),b=a(23),v=a(29),E=a.n(v),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleChangeItem=function(e){var t=e.target,n=t.value,o=t.name;a.setState(Object(p.a)({},o,n))},a.handleAddItem=function(e){e.preventDefault();var t={name:a.state.itemName,room:a.props.room_name,count:Number.parseInt(a.state.itemCount),_id:E()()};a.setState({equipments:a.state.equipments.concat(t)}),console.info("Item added"),a.render()},a.handleEditItem=function(e){e.preventDefault();var t=e.target.className;console.log(t);for(var n=0;n<a.state.equipments.length;n++)a.state.equipments[n]._id===t&&(a.state.equipments[n]._id=a.state.itemId,a.state.equipments[n].name=a.state.itemName,a.state.equipments[n].count=Number.parseInt(a.state.itemCount),console.info("Item edited"))},a.findItem=function(e){return a.state.equipments.filter((function(t){return t.room===e})).map((function(e,t){return o.a.createElement("div",{className:"equipment-item"},o.a.createElement("span",{room:"".concat(e.room),key:t},e.name," - x",e.count),o.a.createElement("div",{className:"btn-wrap"},o.a.createElement("button",{id:"".concat(e._id),onClick:function(e){return a.handleDeleteItem(e)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement("button",{className:"".concat(e._id),onClick:a.handleShowEditComponents},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ")))}))},a.handleShowEditComponents=function(e){a.setState({editById:e.target.className,showEditBtn:!a.state.showEditBtn,showAddBtn:!a.state.showAddBtn,showIdInput:!a.state.showIdInput,showRoomInput:!a.state.showRoomInput}),console.log(a.state.editById)},a.handleDeleteItem=function(e){var t=e.target.id;console.log(t);var n=a.state.equipments.filter((function(e){return e._id!==t}));a.setState({equipments:n},console.log),console.info(a.state.equipments)},a.state=Object(p.a)({equipments:[],showEditBtn:!1,showAddBtn:!0,showIdInput:!1,showRoomInput:!0,editById:"",editByName:"",itemName:"",itemId:"",itemCount:1},"editById",a.props.editById),a.handleDeleteItem=a.handleDeleteItem.bind(Object(f.a)(a)),a.handleAddItem=a.handleAddItem.bind(Object(f.a)(a)),a.handleEditItem=a.handleEditItem.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({equipments:b}),console.info(b)}},{key:"componentDidUpdate",value:function(){this.render()}},{key:"render",value:function(){var e=this,t=this.props.room_name;return o.a.createElement("div",null,o.a.createElement("span",{className:"room_number__header"},this.props.room_name),o.a.createElement("span",{className:"equipment-item__header"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f:"),this.findItem(t),o.a.createElement("div",null,o.a.createElement("form",{className:"add-item"},this.state.showIdInput&&o.a.createElement("label",null,"ID \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f:",o.a.createElement("input",{className:"add-item-id__input",type:"text",name:"itemId",placeholder:"ID",onChange:function(t){return e.handleChangeItem(t)}})),o.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f:",o.a.createElement("input",{className:"add-item-name__input",type:"text",name:"itemName",value:this.state.itemName,placeholder:"\u0421\u0442\u043e\u043b",onChange:function(t){return e.handleChangeItem(t)}})),o.a.createElement("label",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",o.a.createElement("input",{className:"add-item-count__input",type:"number",min:"1",name:"itemCount",value:this.state.itemCount,onChange:function(t){return e.handleChangeItem(t)}})),this.state.showAddBtn&&o.a.createElement("button",{onClick:function(t){return e.handleAddItem(t)},className:"button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"),this.state.showEditBtn&&o.a.createElement("button",{onClick:function(t){return e.handleEditItem(t)},className:this.state.editById},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"))))}}]),t}(o.a.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"version-info"},o.a.createElement("span",null,"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0432\u0435\u0440\u0441\u0438\u0438: 1.1.0"))}}]),t}(o.a.Component),N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).handleShowEqItem=function(t){var a=!0;e.state.id===t.target.id?(e.setState({numOfRepClicks:e.state.numOfRepClicks+1}),e.state.numOfRepClicks%2===0&&(a=!1)):e.setState({numOfRepClicks:0}),e.setState({showEqItem:a,id:t.target.id,room_name:t.target.className})},e.state={showEq:!1,showEqItem:!1,id:"",room_name:"",numOfRepClicks:0},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(C,null),o.a.createElement("div",{className:"panel-left"},o.a.createElement(h,{onToggleEqItem:this.handleShowEqItem})),o.a.createElement("div",{className:"panel-right"},this.state.showEqItem&&o.a.createElement(g,{id:this.state.id,room_name:this.state.room_name})))}}]),t}(o.a.Component),w=a(16),A=a(14),y=a(20),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={company_name:"",email:"",password:"",password2:"",errors:{}},a.onChange=a.onChange.bind(Object(f.a)(a)),a.onSubmit=a.onSubmit.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/view"),e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/view")}},{key:"onChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={company_name:this.state.company_name,email:this.state.email,password:this.state.password,password2:this.state.password2};this.props.registerUser(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"auth-form"},o.a.createElement("form",{onSubmit:this.onSubmit,className:"auth-btn-wrapper"},o.a.createElement("h2",{className:"start-header"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0432 Stocktaking"),o.a.createElement("input",{className:"auth-input",name:"company_name",error:e.company_name,value:this.state.company_name,onChange:this.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}),o.a.createElement("input",{className:"auth-input",name:"email",error:e.email,value:this.state.email,onChange:this.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}),o.a.createElement("input",{className:"auth-input",name:"password",error:e.password,value:this.state.password,onChange:this.onChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}),o.a.createElement("input",{className:"auth-input",name:"password2",error:e.password2,value:this.state.password2,onChange:this.onChange,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}),o.a.createElement("input",{type:"submit",value:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",className:"auth-input"})))}}]),t}(o.a.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={email:"",password:"",errors:{}},a.onChange=a.onChange.bind(Object(f.a)(a)),a.onSubmit=a.onSubmit.bind(Object(f.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/view"),e.errors&&this.setState({errors:e.errors})}},{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/view")}},{key:"onChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors;return o.a.createElement("div",{className:"auth-form"},o.a.createElement("form",{onSubmit:this.onSubmit,className:"auth-btn-wrapper"},o.a.createElement("h2",{className:"start-header"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0432\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 Stocktaking"),o.a.createElement("input",{className:"auth-input",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",error:e.email,value:this.state.email,onChange:this.onChange,type:"email"}),o.a.createElement("input",{className:"auth-input",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",error:e.password,value:this.state.password,onChange:this.onChange,type:"password"}),o.a.createElement("input",{type:"submit",value:"\u0412\u043e\u0439\u0442\u0438",className:"auth-input"})))}}]),t}(o.a.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"start-page"},o.a.createElement("h1",{className:"start-header"},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043e\u0444\u0438\u0441\u0430\u0445"),o.a.createElement("div",{className:"start-btn-wrapper"},o.a.createElement(w.b,{to:"/login",className:"login-button"},"\u0412\u043e\u0439\u0442\u0438"),o.a.createElement(w.b,{to:"/register",className:"signup-button"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))}}]),t}(o.a.Component),j=function(){return o.a.createElement(y.a,null,o.a.createElement(w.a,null,o.a.createElement("div",null,o.a.createElement(A.c,null,o.a.createElement(A.a,{path:"/",component:k,exact:!0}),o.a.createElement(A.a,{path:"/login",component:O,exact:!0}),o.a.createElement(A.a,{path:"/register",component:I,exact:!0}),o.a.createElement(A.a,{path:"/view",component:N})))))};a(32),a(45);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.71d55e0e.chunk.js.map